(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{372:function(t,e,s){"use strict";s.r(e);var a=s(12),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("This is my fourth post in four days blogging with "),s("a",{attrs:{href:"https://middlemanapp.com/",target:"_blank"}},[t._v("Middleman App")]),t._v(".  I've been having a blast so far and wanted to share my experience with using Middleman.  I'm using Middleman's "),s("a",{attrs:{href:"https://github.com/5t111111/middleman-blog-drops-template",target:"_blank"}},[t._v("Drops Template")]),t._v(" with some small customizations.  I was looking for something quick, simple, and stylish to get it up and running.  Initializing the application with this template was super simple.")]),t._v(" "),s("h2",{attrs:{id:"getting-started"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting Started")]),t._v(" "),s("p",[s("strong",[t._v("Prerequisites")]),t._v(": Git, Ruby")]),t._v(" "),s("p",[t._v("Install Middleman:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ gem "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" middleman\n")])])]),s("p",[t._v("Install the Drops template:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ~/.middleman\n$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/.middleman\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/5t111111/middleman-blog-drops-template.git blog-drops\n")])])]),s("p",[t._v("Initialize a project with the Drops template:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ middleman init my_blog_project --template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("blog-drops\n$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" my_blog_project\n$ bundle "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("p",[t._v("Run the Server")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ bundle "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" middleman\n")])])]),s("p",[t._v("You can now see your blog at http://localhost:4567")]),t._v(" "),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),s("p",[t._v("You'll need to edit the configuration file to suit your needs.  The Drops template includes some neat options such as your social links, google analytics tracking, site meta description, and others.  Here's the main set of lines in the "),s("code",[t._v("config.rb")]),t._v(" file that you will want to customize")]),t._v(" "),s("div",{staticClass:"language-ruby extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /config.rb")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("###")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Site Settings")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("###")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set site URL")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":site_url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://blog.example.com'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set site title")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":site_title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Drops Template'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set site description (only used for meta description for the moment)")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":site_description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Site Description'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set site author name")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":site_author")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Site Author'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set site author profile information")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":site_author_profile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Lorem ipsum dolor sit amet, cu facilis indoctum interpretaris has. Ius ea quod euismod fierent, per in legere gubergren accommodare, ut labitur partiendo urbanitas duo. Tamquam inciderint at sed. Per at nibh graecis intellegebat. Probo brute ancillae sit ex, tota recusabo disputando usu et.'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set site author profile image (should be in images_dir)")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":site_author_image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'profile.png'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# when true, the page and site titles will be reversed (page title | site title)")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":reverse_title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# twitter/facebook/github/linkedin links in author page (otherwise set nil)")]),t._v("\nset "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":social_links")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    twitter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://twitter.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    facebook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://facebook.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://github.com/5t111111'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    linkedin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://linkedin.com'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# set Google Analytics account, like "XX-12345678-9"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set :google_analytics_account, 'XX-12345678-9'")]),t._v("\n")])])]),s("p",[t._v("I decided to keep the same profile image, but just replaced it with my own photo in the directory "),s("code",[t._v("/source/images")]),t._v(".  You can also replace the drops.png header image as well.")]),t._v(" "),s("h2",{attrs:{id:"writing-a-blog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writing-a-blog"}},[t._v("#")]),t._v(" Writing a Blog")]),t._v(" "),s("p",[t._v("Your posts can be created in the directory "),s("code",[t._v("/source/posts")]),t._v(" and the naming patter is as follows.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{year}-{month}-{day}-{url-slug}.html.md\n")])])]),s("p",[t._v("For example, let's say you want to create a hello world post dated on January 1, 2001.  The file would be named "),s("code",[t._v("2001-01-01-hello-world.html.md")]),t._v(".  I've been writing my posts in markdown.  Middleman is setup to use front matter to define certain variables.  For example I can define the title and tags for the post at the top of the filelike so:")]),t._v(" "),s("div",{staticClass:"language-markdown extra-class"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token hr punctuation"}},[t._v("---")]),t._v("\ntitle: Hello World\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[t._v("tags: one, two\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")])]),t._v("\n")])])]),s("p",[t._v("The Drops template also includes some nice styling for writing code blocks.  Here's how a nice Ruby block looks.")]),t._v(" "),s("div",{staticClass:"language-ruby extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token method-definition"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("juicy_fruit")])]),t._v("\n  puts "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The Taste is Gonna Move Ya!"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("h2",{attrs:{id:"deploying-to-github-pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploying-to-github-pages"}},[t._v("#")]),t._v(" Deploying to Github Pages")]),t._v(" "),s("p",[t._v("It is possible to deploy the blog to heroku or any host for that matter, but I decided to take advantage of my free Github Page at "),s("a",{attrs:{href:"/"}},[t._v("rlafranchi.github.io")]),t._v(".  You'll need to create a public github repo where the repo name is your pages url.  Since my github username is rlafranchi, my repo was set accordingly.  I started by adding the "),s("code",[t._v("middleman-deploy")]),t._v(" gem to my Gemfile")]),t._v(" "),s("div",{staticClass:"language-ruby extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Gemfile")]),t._v("\ngem "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'middleman-deploy'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# make sure to run bundle install again")]),t._v("\n")])])]),s("p",[t._v("You'll also need to initialize a repo locally and set the remote origin to match your github repo.  Once that is done you'll want to create a new branch in your repo like so:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b blog\n")])])]),s("p",[t._v("In my case I called it the blog branch and from here on out any changes will be committed to the blog branch.  We will need to add the following configuration.")]),t._v(" "),s("div",{staticClass:"language-ruby extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# config.rb")]),t._v("\n\nactivate "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":deploy")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("deploy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  deploy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":git")]),t._v("\n  deploy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("branch   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'master'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("p",[t._v("Once you've written a post, then you are ready to deploy.  The following will compress and compile files and push the build directory to the master branch.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ middleman deploy --build-before\n")])])]),s("p",[t._v("Browse to your github page and enjoy!  You could also run "),s("code",[t._v("$ middleman build")]),t._v(" and upload the build directory to a hosting account of your choice.")]),t._v(" "),s("h2",{attrs:{id:"adding-disqus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-disqus"}},[t._v("#")]),t._v(" Adding Disqus")]),t._v(" "),s("p",[t._v("A huge benefit of using middleman as opposed to a CMS like WordPress or Drupal is that you do not need a database.  This limits the ability to handle comments, so I looked at a third-party solution called "),s("a",{attrs:{href:"https://www.disqus.com",target:"_blank"}},[t._v("Disqus")]),t._v(".  Feel free to make a comment below.  All I had to do was create a partial in the directory "),s("code",[t._v("source/partials")]),t._v(" which included the javascript code provided by Disqus when you create an account and add a site.  The Drops template uses the slim syntax.")]),t._v(" "),s("div",{staticClass:"language-slim extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#disqus_thread\njavascript:\n  /* * * CONFIGURATION VARIABLES * * */\n  var disqus_shortname = 'shortname';\n\n  /* * * DON'T EDIT BELOW THIS LINE * * */\n  (function() {\n      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\n      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\n      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\n  })();\nnoscript\n  Please enable JavaScript to view the <a href=\"https://disqus.com/?ref_noscript\" rel=\"nofollow\">comments powered by Disqus.</a>\n")])])]),s("p",[t._v("I then included the partial in the layout")]),t._v(" "),s("div",{staticClass:"language-slim extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('-# source/layouts/layout.slim\n- unless current_article.nil?\n  = partial "partials/disqus"\n')])])]),s("h2",{attrs:{id:"thoughts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thoughts"}},[t._v("#")]),t._v(" Thoughts")]),t._v(" "),s("p",[t._v("So that's my experience so far with Middleman, and I expect I shall continue to use it for my blog.  It's perfect for my use case of being able to share code and various projects I've worked on.")])])}),[],!1,null,null,null);e.default=n.exports}}]);