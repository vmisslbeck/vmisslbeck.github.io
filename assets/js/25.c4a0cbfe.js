(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{381:function(t,a,e){"use strict";e.r(a);var s=e(12),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"step-by-step-guide-for-getting-up-and-running-with-ruby-and-informix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-by-step-guide-for-getting-up-and-running-with-ruby-and-informix"}},[t._v("#")]),t._v(" Step-by-step guide for getting up and running with Ruby and Informix")]),t._v(" "),e("p",[t._v("God forbid that anyone ever needs to use an Informix database with their Ruby on Rails application. In you case you do, here's how I did it for getting up and running with Ruby and Informix.  In my case I was not using Informix as my main database, but did need to pull in information from multiple databases setup on Informix, hence the reason for digging in and figuring out how to get everything to cooperate.")]),t._v(" "),e("h3",{attrs:{id:"_1-download-and-install-infromix-client-sdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-download-and-install-infromix-client-sdk"}},[t._v("#")]),t._v(" 1. Download and install Infromix Client SDK")]),t._v(" "),e("p",[t._v("Depending on what kind of system you're running your application on you'll want to download the appropriate package from "),e("a",{attrs:{href:"https://www-01.ibm.com/marketing/iwm/tnd/search.jsp?rs=ifxdl",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www-01.ibm.com/marketing/iwm/tnd/search.jsp?rs=ifxdl"),e("OutboundLink")],1),t._v(". In our case we're using a linux 64bit environment. Once extracted, the package contains a file called "),e("code",[t._v("installclientsdk")]),t._v(". Simply run the file with administrative permissions like so "),e("code",[t._v("sudo ./installclientsdk")]),t._v(" and follow the appropriate steps.")]),t._v(" "),e("p",[t._v("The default directory install is "),e("code",[t._v("/opt/IBM/informix")]),t._v(". You'll want to set a required environment variable called "),e("code",[t._v("INFORMIXDIR")]),t._v(" which corresponds to the install directory for the SDK.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in ~/.bash_profile for any users that need access")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("INFORMIXDIR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/IBM/informix "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or appropriate directory")]),t._v("\n")])])]),e("h3",{attrs:{id:"_2-create-sqlhosts-file-and-add-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-create-sqlhosts-file-and-add-configuration"}},[t._v("#")]),t._v(" 2. Create sqlhosts file and add configuration")]),t._v(" "),e("p",[t._v("The sqlhosts file contains the configuration for any database hosts that you would like to connect to.  The Client SDK comes with a sample sqlhosts file as shown below.")]),t._v(" "),e("img",{attrs:{src:"/images/informix-sqlhosts-config.png",alt:"Informix Database sqlhosts config file"}}),t._v(" "),e("p",[t._v("Create a new file with the following pathname "),e("code",[t._v("$INFORMIXDIR/etc/sqlhosts")]),t._v(" and add the appropriate configuration.")]),t._v(" "),e("h4",{attrs:{id:"explanation-of-variables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#explanation-of-variables"}},[t._v("#")]),t._v(" Explanation of Variables")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("<dbservername>")]),t._v(" - this will be the name that the Ruby client will use to get the right info for the database")]),t._v(" "),e("li",[e("strong",[t._v("<nettype>")]),t._v(" - protocols as explained in image. For our case we will use "),e("strong",[t._v("onsoctcp")])]),t._v(" "),e("li",[e("strong",[t._v("<hostname>")]),t._v(" - hostname or ip address")]),t._v(" "),e("li",[e("strong",[t._v("<servicename>")]),t._v(" - service name as described by the database's /etc/services file. Can also just use the port number.")])]),t._v(" "),e("h3",{attrs:{id:"_3-create-environment-variables-for-any-user-who-needs-access"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-create-environment-variables-for-any-user-who-needs-access"}},[t._v("#")]),t._v(" 3. Create Environment variables for any user who needs access")]),t._v(" "),e("p",[t._v("The following environment variable must be added for any user who needs access  (on top of "),e("code",[t._v("$INFORMIXDIR")]),t._v(")")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ~/.bash_profile")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Choose a default database server name as defined in $INFORMIXDIR/etc/sqlhosts")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("INFORMIXSERVER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dbservername\n")])])]),e("h3",{attrs:{id:"_4-install-activerecord-adapter-for-informix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-install-activerecord-adapter-for-informix"}},[t._v("#")]),t._v(" 4. Install ActiveRecord adapter for informix")]),t._v(" "),e("p",[t._v("An activerecord adapter for informix can be found at "),e("a",{attrs:{href:"https://github.com/santana/activerecord-informix-adapter"}},[t._v("https://github.com/santana/activerecord-informix-adapter")]),t._v(". Add the gem to your Gemfile and run "),e("strong",[t._v("bundle install.")]),t._v(" The active record adapter depends on the informix gem which can be used for plain ruby applications")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Gemfile")]),t._v("\ngem "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'activerecord-informix-adapter'")]),t._v("\n")])])]),e("p",[t._v("At this point, the gem should install properly as long as everything else was configured properly.")]),t._v(" "),e("h3",{attrs:{id:"_5-connecting-to-the-database-with-ruby-rails"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-connecting-to-the-database-with-ruby-rails"}},[t._v("#")]),t._v(" 5. "),e("strong",[t._v("Connecting to the database with Ruby/Rails")])]),t._v(" "),e("p",[t._v("You should now be able to connect to the database using the "),e("code",[t._v("establish_connection")]),t._v(" method like so.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Rails method")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ActiveRecord")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Base")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("establish_connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  adapter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'informix'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dbname@servername'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# servername as defined in sqlhosts")]),t._v("\n  username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Plain old ruby with informix gem")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'informix'")]),t._v("\ndb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Informix")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dbname@servername'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",[t._v("Summary")]),t._v(" "),e("ul",[e("li",[t._v("Install Informix Client SDK")]),t._v(" "),e("li",[t._v("Create and configure $INFORMIXDIR/etc/sqlhosts file")]),t._v(" "),e("li",[t._v("Ensure environment variables are set for "),e("code",[t._v("$INFORMIXDIR")]),t._v(" and "),e("code",[t._v("$INFORMIXSERVER")])]),t._v(" "),e("li",[t._v("Install informix gem or active record adapter and configure Rails/Ruby")])])])}),[],!1,null,null,null);a.default=n.exports}}]);